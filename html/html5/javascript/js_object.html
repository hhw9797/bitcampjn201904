<!DOCTYPE html>
<html>
    <head>
        <title> 자바스크립트의 객체 </title>
        <script>
            
            var obj1 = {}; //객체생성
            var arr1 = []; //배열객체생성
            alert(typeof(arr1));
            
            // 속성 표현 --> 속성이름 : 속성(자바스크립트의 데이터 6가지종류)
            var person = {
                name : '한혜원' , // , 컴마로 객체를 구분
                age : 20,
                check : true,
                books : ['java의 정석', '이것이 자바다', '열혈자바'], 
                // 객체안에 객체넣을 수 있음
                eat : function(food){
                   alert(this.name+'님이 '+food+'을/를 먹습니다.'); 
                } 
                // 객체의 속성의 타입이 함수인 경우 메서드    
            };
            
            // 동적으로 속성 추가
            person.job = 'Programmer';
            person.hello = function(){
                //alert('안녕하세요~!!');
            };
            
            //person.hello();
            
            for(var key in person){
                //alert(person[key]);
            }
            
            // 객체의 속성 참조
            alert(person.name);
            
            // 객체의 메서드 호출
            //person.eat('초콜렛');
            
            
            // 생성자 함수 정의
            // 함수의 이름(식별자)의 첫글자는 대문자로 쓴다.
            function Students(sname,k,e,m){
                
                this.name=sname;  // 이름
                this.kor=k;   // 국어점수
                this.eng=e;   // 영어점수
                this.math=m;  // 수학점수
                
                // 총점 계산 함수(메서드)
                /*this.getSum = function(){
                    return this.kor + this.eng + this.math;
                };*/
                
                // 평균 계산 함수(메서드)
                /*this.getAverage = function(){
                    return this.getSum()/3;
                };*/
                
                // 결과 출력 메서드
                /*this.toString = function(){
                    return this.name + '     ' + this.getSum() + '     ' + this.getAverage() + '\n';
                };*/
            }
            
            // 공통으로 사용되는 메서드
            // --> prototype에 메서드 정의
            Students.prototype.getSum = function(){
                return this.kor + this.eng + this.math;
            };
            Students.prototype.getAverage = function(){
                return this.getSum()/3;
            };
            Students.prototype.toString = function(){
                return this.name + '     ' + this.getSum() + '     ' + this.getAverage() + '\n';
            };
            
            // 학생정보를 저장하는 배열 생성
            var students = [];
            //students.push({name:'홍길동1', kor:87,  math:100, eng:44});
            students.push(new Students('홍길동1',87,44,100));
            students.push(new Students('홍길동2',27,46,92));
            students.push(new Students('홍길동3',37,67,86));
            students.push(new Students('홍길동4',47,84,69));
            students.push(new Students('홍길동5',57,29,64));
            students.push(new Students('홍길동6',77,66,84));
            students.push(new Students('홍길동7',67,89,52));
            students.push(new Students('홍길동8',47,93,45));
            students.push(new Students('홍길동9',77,75,34));
            students.push(new Students('홍길동0',97,98,81));
            
            /*students.push({name:'홍길동2', kor:27,  math:92, eng:46});
            students.push({name:'홍길동3', kor:37,  math:86, eng:67});
            students.push({name:'홍길동4', kor:47,  math:69, eng:84});
            students.push({name:'홍길동5', kor:57,  math:64, eng:29});
            students.push({name:'홍길동6', kor:87,  math:84, eng:66});
            students.push({name:'홍길동7', kor:67,  math:52, eng:89});
            students.push({name:'홍길동8', kor:47,  math:45, eng:93});
            students.push({name:'홍길동9', kor:77,  math:34, eng:75});
            students.push({name:'홍길동0', kor:97,  math:81, eng:98});*/
            
            /*for(var k in students){
                
                // 총점을 구하는 메서드 정의, 추가
                students[k].getSum = function(){
                    return this.kor + this.math + this.eng;  
                };
                // 평균을 구하는 메서드 정의, 추가
                students[k].getAverage = function(){
                    return this.getSum()/3;
                };
            }*/
            
            students.sort(function(left, right){
                return right.getSum()-left.getSum();
            });
            
            students = students.slice(0, 3);
            
            
            var output = '이름     총점     평균\n';
            for(var i=0; i<students.length; i++){
                
                /*output += students[i].name + '     ' + students[i].getSum() + '     ' + students[i].getAverage() + '\n';*/
                
                output += students[i].toString();
            }
            
            alert(output);
        </script>
    </head>
    <body>
        
    </body>
</html>